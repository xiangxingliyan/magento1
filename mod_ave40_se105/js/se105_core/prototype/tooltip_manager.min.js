TooltipManager={options:{cssClassName:"tooltip",delayOver:200,delayOut:1e3,shiftX:10,shiftY:10,className:"alphacube",width:200,height:null,draggable:!1,minimizable:!1,maximizable:!1,showEffect:Element.show,hideEffect:Element.hide},ajaxInfo:null,elements:null,showTimer:null,hideTimer:null,init:function(o,t,e){TooltipManager.options=Object.extend(TooltipManager.options,e||{}),o=TooltipManager.options.cssClassName||"tooltip",TooltipManager.ajaxInfo=t,TooltipManager.elements=$$("."+o),TooltipManager.elements.each(function(o){o=$(o);var e=TooltipManager._getInfo(o);e.ajax?(o.ajaxId=e.id,o.ajaxInfo=t):o.tooltipElement=$(e.id),o.observe("mouseover",TooltipManager._mouseOver),o.observe("mouseout",TooltipManager._mouseOut)}),Windows.addObserver(this)},addHTML:function(o,t){o=$(o),t=$(t),o.tooltipElement=t,o.observe("mouseover",TooltipManager._mouseOver),o.observe("mouseout",TooltipManager._mouseOut)},addAjax:function(o,t){o=$(o),o.ajaxInfo=t,o.observe("mouseover",TooltipManager._mouseOver),o.observe("mouseout",TooltipManager._mouseOut)},addURL:function(o,t,e,i){o=$(o),o.url=t,o.frameWidth=e,o.frameHeight=i,o.observe("mouseover",TooltipManager._mouseOver),o.observe("mouseout",TooltipManager._mouseOut)},close:function(){TooltipManager.tooltipWindow&&TooltipManager.tooltipWindow.hide()},preloadImages:function(o,t,e){e||(e=".gif"),$A(t).each(function(t){(new Image).src=o+"/"+t+e})},_showTooltip:function(o){if(this.element!=o){for(;o&&!o.tooltipElement&&!o.ajaxInfo&&!o.url;)o=o.parentNode;this.element=o,TooltipManager.showTimer=null,TooltipManager.hideTimer&&clearTimeout(TooltipManager.hideTimer);var t=Position.cumulativeOffset(o),e=o.getDimensions();if(this.tooltipWindow||(this.tooltipWindow=new Window("__tooltip__",TooltipManager.options)),this.tooltipWindow.hide(),this.tooltipWindow.setLocation(t[1]+e.height+TooltipManager.options.shiftY,t[0]+TooltipManager.options.shiftX),Event.observe(this.tooltipWindow.element,"mouseover",function(t){TooltipManager._tooltipOver(t,o)}),Event.observe(this.tooltipWindow.element,"mouseout",function(t){TooltipManager._tooltipOut(t,o)}),this.tooltipWindow.height=TooltipManager.options.height,this.tooltipWindow.width=TooltipManager.options.width,o.ajaxInfo){var i=o.ajaxInfo.options.parameters,n=i;o.ajaxId&&(i?i+="&id="+o.ajaxId:i="id="+o.ajaxId),o.ajaxInfo.options.parameters=i||"",this.tooltipWindow.setHTMLContent(""),this.tooltipWindow.setAjaxContent(o.ajaxInfo.url,o.ajaxInfo.options),o.ajaxInfo.options.parameters=n}else o.url?(this.tooltipWindow.setURL(o.url),this.tooltipWindow.setSize(o.frameWidth,o.frameHeight),this.tooltipWindow.height=o.frameHeight,this.tooltipWindow.width=o.frameWidth):this.tooltipWindow.setHTMLContent(o.tooltipElement.innerHTML);o.ajaxInfo||(this.tooltipWindow.show(),this.tooltipWindow.toFront())}},_hideTooltip:function(o){this.tooltipWindow&&(this.tooltipWindow.hide(),this.element=null)},_mouseOver:function(o){var t=Event.element(o);TooltipManager.showTimer&&clearTimeout(TooltipManager.showTimer),TooltipManager.showTimer=setTimeout(function(){TooltipManager._showTooltip(t)},TooltipManager.options.delayOver)},_mouseOut:function(o){var t=Event.element(o);if(TooltipManager.showTimer)return clearTimeout(TooltipManager.showTimer),void(TooltipManager.showTimer=null);TooltipManager.tooltipWindow&&(TooltipManager.hideTimer=setTimeout(function(){TooltipManager._hideTooltip(t)},TooltipManager.options.delayOut))},_tooltipOver:function(o,t){TooltipManager.hideTimer&&(clearTimeout(TooltipManager.hideTimer),TooltipManager.hideTimer=null)},_tooltipOut:function(o,t){null==TooltipManager.hideTimer&&(TooltipManager.hideTimer=setTimeout(function(){TooltipManager._hideTooltip(t)},TooltipManager.options.delayOut))},_getInfo:function(o){var t=o.className.split(" ").detect(function(o){return 0==o.indexOf("html_")}),e=!0;return t?e=!1:t=o.className.split(" ").detect(function(o){return 0==o.indexOf("ajax_")}),t=t.substr(t.indexOf("_")+1,t.length),t?{ajax:e,id:t}:null},onBeforeShow:function(o,t){var e=parseFloat(t.getLocation().top),i=t.element.getDimensions();if(e+i.height>TooltipManager._getScrollTop()+TooltipManager._getPageHeight()){var n=Position.cumulativeOffset(this.element),e=n[1]-TooltipManager.options.shiftY-i.height;t.setLocation(e,n[0]+TooltipManager.options.shiftX)}},_getPageWidth:function(){return window.innerWidth||document.documentElement.clientWidth||0},_getPageHeight:function(){return window.innerHeight||document.documentElement.clientHeight||0},_getScrollTop:function(){return document.documentElement.scrollTop||window.pageYOffset||0},_getScrollLeft:function(){return document.documentElement.scrollLeft||window.pageXOffset||0}};