Effect.ResizeWindow=Class.create(),Object.extend(Object.extend(Effect.ResizeWindow.prototype,Effect.Base.prototype),{initialize:function(t,i,e,h,s){this.window=t,this.window.resizing=!0;var o=t.getSize();this.initWidth=parseFloat(o.width),this.initHeight=parseFloat(o.height);var n=t.getLocation();this.initTop=parseFloat(n.top),this.initLeft=parseFloat(n.left),this.width=null!=h?parseFloat(h):this.initWidth,this.height=null!=s?parseFloat(s):this.initHeight,this.top=null!=i?parseFloat(i):this.initTop,this.left=null!=e?parseFloat(e):this.initLeft,this.dx=this.left-this.initLeft,this.dy=this.top-this.initTop,this.dw=this.width-this.initWidth,this.dh=this.height-this.initHeight,this.r2=$(this.window.getId()+"_row2"),this.content=$(this.window.getId()+"_content"),this.contentOverflow=this.content.getStyle("overflow")||"auto",this.content.setStyle({overflow:"hidden"}),this.window.options.wiredDrag&&(this.window.currentDrag=t._createWiredElement(),this.window.currentDrag.show(),this.window.element.hide()),this.start(arguments[5])},update:function(t){var i=Math.floor(this.initWidth+this.dw*t),e=Math.floor(this.initHeight+this.dh*t),h=Math.floor(this.initTop+this.dy*t),s=Math.floor(this.initLeft+this.dx*t);window.ie&&(0==Math.floor(e)?this.r2.hide():Math.floor(e)>1&&this.r2.show()),this.r2.setStyle({height:e}),this.window.setSize(i,e),this.window.setLocation(h,s)},finish:function(t){this.window.options.wiredDrag&&(this.window._hideWiredElement(),this.window.element.show()),this.window.setSize(this.width,this.height),this.window.setLocation(this.top,this.left),this.r2.setStyle({height:null}),this.content.setStyle({overflow:this.contentOverflow}),this.window.resizing=!1}}),Effect.ModalSlideDown=function(t){var i=WindowUtilities.getWindowScroll(),e=t.getStyle("height");return t.setStyle({top:-(parseFloat(e)-i.top)+"px"}),t.show(),new Effect.Move(t,Object.extend({x:0,y:parseFloat(e)},arguments[1]||{}))},Effect.ModalSlideUp=function(t){var i=t.getStyle("height");return new Effect.Move(t,Object.extend({x:0,y:-parseFloat(i)},arguments[1]||{}))},PopupEffect=Class.create(),PopupEffect.prototype={initialize:function(t){this.html=$(t),this.options=Object.extend({className:"popup_effect",duration:.4},arguments[1]||{})},show:function(t,i){var e=Position.cumulativeOffset(this.html),h=this.html.getDimensions(),s=t.win.getBounds();this.window=t.win,this.div||(this.div=document.createElement("div"),this.div.className=this.options.className,this.div.style.height=h.height+"px",this.div.style.width=h.width+"px",this.div.style.top=e[1]+"px",this.div.style.left=e[0]+"px",this.div.style.position="absolute",document.body.appendChild(this.div)),this.options.fromOpacity&&this.div.setStyle({opacity:this.options.fromOpacity}),this.div.show();var o="top:"+s.top+";left:"+s.left+";width:"+s.width+";height:"+s.height;this.options.toOpacity&&(o+=";opacity:"+this.options.toOpacity),new Effect.Morph(this.div,{style:o,duration:this.options.duration,afterFinish:this._showWindow.bind(this)})},hide:function(t,i){var e=Position.cumulativeOffset(this.html),h=this.html.getDimensions();this.window.visible=!0;var s=this.window.getBounds();this.window.visible=!1,this.window.element.hide(),this.div.style.height=s.height,this.div.style.width=s.width,this.div.style.top=s.top,this.div.style.left=s.left,this.options.toOpacity&&this.div.setStyle({opacity:this.options.toOpacity}),this.div.show();var o="top:"+e[1]+"px;left:"+e[0]+"px;width:"+h.width+"px;height:"+h.height+"px";this.options.fromOpacity&&(o+=";opacity:"+this.options.fromOpacity),new Effect.Morph(this.div,{style:o,duration:this.options.duration,afterFinish:this._hideDiv.bind(this)})},_showWindow:function(){this.div.hide(),this.window.element.show()},_hideDiv:function(){this.div.hide()}};