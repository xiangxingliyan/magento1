function debug(e,n){null!=debugWindow&&(time="-",n?($("debug").innerHTML=time+" "+e+"<br>"+$("debug").innerHTML,debugWindow.getContent().scrollTop=0):($("debug").innerHTML+=time+" "+e+"<br>",debugWindow.getContent().scrollTop=1e4))}function hideDebug(){debugWindow&&(debugWindow.destroy(),debugWindow=null)}function showDebug(e){null==debugWindow&&(debugWindow=new Window("debug_window",{className:"dialog",width:250,height:100,right:4,bottom:42,zIndex:1e3,opacity:1,showEffect:Element.show,resizable:!0,title:"Debug"}),debugWindow.getContent().innerHTML="<style>#debug_window .dialog_content {background:#000;}</style> <div id='debug'></div>",date=new Date,date.setMonth(date.getMonth()+3)),(void 0===e||e)&&debugWindow.show()}function clearDebug(){null!=debugWindow&&($("debug").innerHTML="")}function $E(e){var n;if("string"==typeof e)n=document.createTextNode(e);else{if(n=document.createElement(e.tag),delete e.tag,void 0!==e.children){if("string"==typeof e.children||void 0===e.children.length)n.appendChild($E(e.children));else for(var t=0,i=null;void 0!==(i=e.children[t]);t++)n.appendChild($E(i));delete e.children}for(attr in e)n[attr]=e[attr]}return n}var debugWindow=null,Debug={inspectOutput:function(e,n){n=n||debugWindow.getContent(),null!=debugWindow&&n.appendChild(e)},inspect:function(e){var n=$E({tag:"div",className:"inspector"});Debug.inspectObj(e,n),debugWindow.getContent().appendChild(n)},inspectObj:function(e,n){for(prop in e)Debug.inspectOutput(Debug.inspectable(e,prop),n)},inspectable:function(e,n){return cont=$E({tag:"div",className:"inspectable",children:[n+" value: "+e[n]]}),cont.toInspect=e[n],Event.observe(cont,"click",Debug.inspectClicked,!1),cont},inspectClicked:function(e){Debug.inspectContained(Event.element(e)),Event.stop(e)},inspectContained:function(e){e.opened?(e.parentNode.removeChild(e.opened),delete e.opened):(sibling=e.parentNode.insertBefore($E({tag:"div",className:"child"}),e.nextSibling),e.toInspect&&Debug.inspectObj(e.toInspect,sibling),e.opened=sibling)}},inspect=Debug.inspect;