Flex={},Flex.currentID=0,Flex.uniqId=function(){return"flexMovieUID"+ ++Flex.currentID},Flex.checkFlashPlayerVersion=function(e,t,a){var i=Flex.getFlashPlayerVersion();return!1!==i&&Flex.transformVersionToFloat([e,t,a],5)<=Flex.transformVersionToFloat(i,5)},Flex._getFlashPlayerVersionAsActiveX=function(){for(var e=[{default:"7.0.0",code:"ShockwaveFlash.ShockwaveFlash.7",variable:!0},{default:"6.0.0",code:"ShockwaveFlash.ShockwaveFlash.6",variable:!0,acceess:!0},{default:"3.0.0",code:"ShockwaveFlash.ShockwaveFlash.3",variable:!1},{default:"2.0.0",code:"ShockwaveFlash.ShockwaveFlash",variable:!1}],t=0,a=e.length;t<a;t++)try{return function(e){var t=new ActiveXObject(e.code);return e.access&&e.variable&&(t.AllowScriptAccess="always"),e.variable?t.GetVariable("$version"):e.default}(e[t])}catch(e){}return!1},Flex.transformVersionToArray=function(e){if(!Object.isString(e))return!1;var t=e.match(/[\d]+/g);return t.length>3?t.slice(0,3):!!t.length&&t},Flex.transformVersionToFloat=function(e,t){if(Object.isString(e)&&(e=Flex.transformVersionToArray(e)),Object.isArray(e)){for(var a=0,i=0,r=e.length;i<r;i++)a+=parseFloat(e[i])/Math.pow(10,t*i);return a}return!1},Flex.getFlashPlayerVersion=function(){if(Flex.flashPlayerVersion)return Flex.flashPlayerVersion;var e=!1;if(null!=navigator.plugins&&navigator.plugins.length>0){if(navigator.mimeTypes&&navigator.mimeTypes.length>0&&navigator.mimeTypes["application/x-shockwave-flash"]&&!navigator.mimeTypes["application/x-shockwave-flash"].enabledPlugin)return!1;var t=navigator.plugins["Shockwave Flash"]||navigator.plugins["Shockwave Flash 2.0"];e=Flex.transformVersionToArray(t.description)}else e=Flex.transformVersionToArray(Flex._getFlashPlayerVersionAsActiveX());return Flex.flashPlayerVersion=e,e},Flex.Object=Class.create({initialize:function(e){this.isIE=Prototype.Browser.IE,this.isWin=-1!=navigator.appVersion.toLowerCase().indexOf("win"),this.attributes={quality:"high",pluginspage:"http://www.adobe.com/go/getflashplayer",type:"application/x-shockwave-flash",allowScriptAccess:"always",classid:"clsid:d27cdb6e-ae6d-11cf-96b8-444553540000"},this.bridgeName="",this.bridge=!1,this.setAttributes(e),this.applied=!1;this.detectFlashVersion(9,0,28)?this.isIE?this.template=new Template('<object {objectAttributes}><param name="allowFullScreen" value="true"/>{objectParameters}</object>',/(^|.|\r|\n)(\{(.*?)\})/):this.template=new Template('<embed {embedAttributes} allowfullscreen="true" />',/(^|.|\r|\n)(\{(.*?)\})/):this.template=new Template("This content requires the Adobe Flash Player.  <a href=http://www.adobe.com/go/getflash/>Get Flash</a>",/(^|.|\r|\n)(\{(.*?)\})/),this.parametersTemplate=new Template('<param name="{name}" value="{value}" />',/(^|.|\r|\n)(\{(.*?)\})/),this.attributesTemplate=new Template(' {name}="{value}" ',/(^|.|\r|\n)(\{(.*?)\})/)},setAttribute:function(e,t){this.applied||(this.attributes[e]=t)},getAttribute:function(e){return this.attributes[e]},setAttributes:function(e){$H(e).each(function(e){this.setAttribute(e.key,e.value)}.bind(this))},getAttributes:function(){return this.attributes},apply:function(e){if(!this.applied){this.setAttribute("id",Flex.uniqId()),this.preInitBridge();var t=this.template.evaluate(this.generateTemplateValues());$(e).update(t)}this.applied=!0},applyWrite:function(){if(!this.applied){this.setAttribute("id",Flex.uniqId()),this.preInitBridge();var e=this.template.evaluate(this.generateTemplateValues());document.write(e)}this.applied=!0},preInitBridge:function(){this.bridgeName=this.getAttribute("id")+"bridge";var e=this.getAttribute("flashVars")||this.getAttribute("flashvars")||"";""!=e&&(e+="&"),e+="bridgeName="+this.bridgeName,this.setAttribute("flashVars",e);var t=this;FABridge.addInitializationCallback(this.bridgeName,function(){t.bridge=this.root(),t.initBridge()})},initBridge:function(){this.onBridgeInit&&this.onBridgeInit(this.getBridge())},getBridge:function(){return this.bridge},generateTemplateValues:function(){var e={embed:{movie:"src",id:"name",flashvars:"flashVars",classid:!1,codebase:!1},object:{pluginspage:!1,src:"movie",flashvars:"flashVars",type:!1,inline:["type","classid","codebase","id","width","height","align","vspace","hspace","class","title","accesskey","name","tabindex"]}},t={},a={},i={};$H(this.attributes).each(function(r){var s=r.key.toLowerCase();this.attributes[r.key]=this.escapeAttributes(r.value);var n=e.object[s]?e.object[s]:s,l=e.embed[s]?e.embed[s]:s;!1!==e.object[s]&&(-1!==e.object.inline.indexOf(n)?a[n]=this.attributes[r.key]:i[n]=this.attributes[r.key]),!1!==e.embed[s]&&(t[l]=this.attributes[r.key])}.bind(this));var r={objectAttributes:"",objectParameters:"",embedAttributes:""};return $H(a).each(function(e){r.objectAttributes+=this.attributesTemplate.evaluate({name:e.key,value:e.value})}.bind(this)),$H(t).each(function(e){r.embedAttributes+=this.attributesTemplate.evaluate({name:e.key,value:e.value})}.bind(this)),$H(i).each(function(e){r.objectParameters+=this.parametersTemplate.evaluate({name:e.key,value:e.value})}.bind(this)),r},escapeAttributes:function(e){return"string"==typeof e?e.escapeHTML():e},detectFlashVersion:function(e,t,a){return Flex.checkFlashPlayerVersion(e,t,a)}});