function FABridge(e,t){return this.target=e,this.remoteTypeCache={},this.remoteInstanceCache={},this.remoteFunctionCache={},this.localFunctionCache={},this.bridgeID=FABridge.nextBridgeID++,this.name=t,this.nextLocalFuncID=0,FABridge.instances[this.name]=this,FABridge.idMap[this.bridgeID]=this,this}function instanceFactory(e){return this.fb_instance_id=e,this}function FABridge__invokeJSFunction(e){var t=e[0],r=e.concat();return r.shift(),FABridge.extractBridgeFromID(t).invokeLocalFunction(t,r)}function FABridge__bridgeInitialized(e){var t=document.getElementsByTagName("object"),r=t.length,i=[];if(r>0)for(var n=0;n<r;n++)void 0!==t[n].SetVariable&&(i[i.length]=t[n]);var a=document.getElementsByTagName("embed"),o=a.length,s=[];if(o>0)for(var d=0;d<o;d++)void 0!==a[d].SetVariable&&(s[s.length]=a[d]);var c=i.length,l=s.length,h="bridgeName="+e;if(1==c&&!l||1==c&&1==l)FABridge.attachBridge(i[0],e);else if(1!=l||c){var u=!1;if(c>1)for(var g=0;g<c;g++){for(var f=i[g].childNodes,A=0;A<f.length;A++){var F=f[A];if(1==F.nodeType&&"param"==F.tagName.toLowerCase()&&"flashvars"==F.name.toLowerCase()&&F.value.indexOf(h)>=0){FABridge.attachBridge(i[g],e),u=!0;break}}if(u)break}if(!u&&l>1)for(var y=0;y<l;y++){var B=s[y].attributes.getNamedItem("flashVars").nodeValue;if(B.indexOf(h)>=0){FABridge.attachBridge(s[y],e);break}}}else FABridge.attachBridge(s[0],e);return!0}FABridge.TYPE_ASINSTANCE=1,FABridge.TYPE_ASFUNCTION=2,FABridge.TYPE_JSFUNCTION=3,FABridge.TYPE_ANONYMOUS=4,FABridge.initCallbacks={},FABridge.userTypes={},FABridge.addToUserTypes=function(){for(var e=0;e<arguments.length;e++)FABridge.userTypes[arguments[e]]={typeName:arguments[e],enriched:!1}},FABridge.argsToArray=function(e){for(var t=[],r=0;r<e.length;r++)t[r]=e[r];return t},FABridge.addInitializationCallback=function(e,t){var r=FABridge.instances[e];if(void 0!=r)return void t.call(r);var i=FABridge.initCallbacks[e];null==i&&(FABridge.initCallbacks[e]=i=[]),i.push(t)},FABridge.nextBridgeID=0,FABridge.instances={},FABridge.idMap={},FABridge.refCount=0,FABridge.extractBridgeFromID=function(e){var t=e>>16;return FABridge.idMap[t]},FABridge.attachBridge=function(e,t){void 0===FABridge[t]&&(FABridge[t]=new FABridge(e,t));var r=FABridge.initCallbacks[t];if(null!=r)for(var i=0;i<r.length;i++)r[i].call(FABridge[t])},FABridge.blockedMethods={toString:!0,get:!0,set:!0,call:!0},FABridge.prototype={root:function(){return this.deserialize(this.target.getRoot())},releaseASObjects:function(){return this.target.releaseASObjects()},releaseNamedASObject:function(e){return"object"==typeof e&&this.target.releaseNamedASObject(e.fb_instance_id)},create:function(e){return this.deserialize(this.target.create(e))},makeID:function(e){return(this.bridgeID<<16)+e},getPropertyFromAS:function(e,t){if(FABridge.refCount>0)throw new Error("You are trying to call recursively into the Flash Player which is not allowed. In most cases the JavaScript setTimeout function, can be used as a workaround.");return FABridge.refCount++,retVal=this.target.getPropFromAS(e,t),retVal=this.handleError(retVal),FABridge.refCount--,retVal},setPropertyInAS:function(e,t,r){if(FABridge.refCount>0)throw new Error("You are trying to call recursively into the Flash Player which is not allowed. In most cases the JavaScript setTimeout function, can be used as a workaround.");return FABridge.refCount++,retVal=this.target.setPropInAS(e,t,this.serialize(r)),retVal=this.handleError(retVal),FABridge.refCount--,retVal},callASFunction:function(e,t){if(FABridge.refCount>0)throw new Error("You are trying to call recursively into the Flash Player which is not allowed. In most cases the JavaScript setTimeout function, can be used as a workaround.");return FABridge.refCount++,retVal=this.target.invokeASFunction(e,this.serialize(t)),retVal=this.handleError(retVal),FABridge.refCount--,retVal},callASMethod:function(e,t,r){if(FABridge.refCount>0)throw new Error("You are trying to call recursively into the Flash Player which is not allowed. In most cases the JavaScript setTimeout function, can be used as a workaround.");return FABridge.refCount++,r=this.serialize(r),retVal=this.target.invokeASMethod(e,t,r),retVal=this.handleError(retVal),FABridge.refCount--,retVal},invokeLocalFunction:function(e,t){var r,i=this.localFunctionCache[e];return void 0!=i&&(r=this.serialize(i.apply(null,this.deserialize(t)))),r},getTypeFromName:function(e){return this.remoteTypeCache[e]},createProxy:function(e,t){var r=this.getTypeFromName(t);instanceFactory.prototype=r;var i=new instanceFactory(e);return this.remoteInstanceCache[e]=i,i},getProxy:function(e){return this.remoteInstanceCache[e]},addTypeDataToCache:function(e){newType=new ASProxy(this,e.name);for(var t=e.accessors,r=0;r<t.length;r++)this.addPropertyToType(newType,t[r]);for(var i=e.methods,r=0;r<i.length;r++)void 0==FABridge.blockedMethods[i[r]]&&this.addMethodToType(newType,i[r]);return this.remoteTypeCache[newType.typeName]=newType,newType},addPropertyToType:function(e,t){var r,i,n=t.charAt(0);n>="a"&&n<="z"?(i="get"+n.toUpperCase()+t.substr(1),r="set"+n.toUpperCase()+t.substr(1)):(i="get"+t,r="set"+t),e[r]=function(e){this.bridge.setPropertyInAS(this.fb_instance_id,t,e)},e[i]=function(){return this.bridge.deserialize(this.bridge.getPropertyFromAS(this.fb_instance_id,t))}},addMethodToType:function(e,t){e[t]=function(){return this.bridge.deserialize(this.bridge.callASMethod(this.fb_instance_id,t,FABridge.argsToArray(arguments)))}},getFunctionProxy:function(e){var t=this;return null==this.remoteFunctionCache[e]&&(this.remoteFunctionCache[e]=function(){t.callASFunction(e,FABridge.argsToArray(arguments))}),this.remoteFunctionCache[e]},getFunctionID:function(e){return void 0==e.__bridge_id__&&(e.__bridge_id__=this.makeID(this.nextLocalFuncID++),this.localFunctionCache[e.__bridge_id__]=e),e.__bridge_id__},serialize:function(e){var t={},r=typeof e;if("number"==r||"string"==r||"boolean"==r||null==r||void 0==r)t=e;else if(e instanceof Array){t=[];for(var i=0;i<e.length;i++)t[i]=this.serialize(e[i])}else"function"==r?(t.type=FABridge.TYPE_JSFUNCTION,t.value=this.getFunctionID(e)):e instanceof ASProxy?(t.type=FABridge.TYPE_ASINSTANCE,t.value=e.fb_instance_id):(t.type=FABridge.TYPE_ANONYMOUS,t.value=e);return t},deserialize:function(e){var t,r=typeof e;if("number"==r||"string"==r||"boolean"==r||null==e||void 0==e)t=this.handleError(e);else if(e instanceof Array){t=[];for(var i=0;i<e.length;i++)t[i]=this.deserialize(e[i])}else if("object"==r){for(var i=0;i<e.newTypes.length;i++)this.addTypeDataToCache(e.newTypes[i]);for(var n in e.newRefs)this.createProxy(n,e.newRefs[n]);e.type==FABridge.TYPE_PRIMITIVE?t=e.value:e.type==FABridge.TYPE_ASFUNCTION?t=this.getFunctionProxy(e.value):e.type==FABridge.TYPE_ASINSTANCE?t=this.getProxy(e.value):e.type==FABridge.TYPE_ANONYMOUS&&(t=e.value)}return t},addRef:function(e){this.target.incRef(e.fb_instance_id)},release:function(e){this.target.releaseRef(e.fb_instance_id)},handleError:function(e){if("string"==typeof e&&0==e.indexOf("__FLASHERROR")){var t=e.split("||");throw FABridge.refCount>0&&FABridge.refCount--,new Error(t[1])}return e}},ASProxy=function(e,t){return this.bridge=e,this.typeName=t,this},ASProxy.prototype={get:function(e){return this.bridge.deserialize(this.bridge.getPropertyFromAS(this.fb_instance_id,e))},set:function(e,t){this.bridge.setPropertyInAS(this.fb_instance_id,e,t)},call:function(e,t){this.bridge.callASMethod(this.fb_instance_id,e,t)},addRef:function(){this.bridge.addRef(this)},release:function(){this.bridge.release(this)}};