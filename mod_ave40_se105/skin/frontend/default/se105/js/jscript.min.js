Glider=Class.create(),Object.extend(Object.extend(Glider.prototype,Abstract.prototype),{initialize:function(t,e){this.handStopped=!1,this.scrolling=!1,this.wrapper=$(t),this.scroller=this.wrapper.down("div.scroller"),this.sections=this.wrapper.getElementsBySelector("div.sectionslide"),this.options=Object.extend({duration:1,frequency:3},e||{}),this.sections.each(function(t,e){t._index=e}),this.events={click:this.click.bind(this),mouseover:this.pause.bind(this),mouseout:this.resume.bind(this)},this.addObservers(),this.options.initialSection&&this.moveTo(this.options.initialSection,this.scroller,{duration:this.options.duration}),this.options.autoGlide&&this.start()},addObservers:function(){this.wrapper.observe("mouseover",this.events.mouseover),this.wrapper.observe("mouseout",this.events.mouseout);var t=this.wrapper.getElementsBySelector("div.sliderdescription");t.invoke("observe","mouseover",this.makeActive),t.invoke("observe","mouseout",this.makeInactive),this.wrapper.getElementsBySelector("div.slidercontrol a").invoke("observe","mouseover",this.events.click)},click:function(t){var e=Event.findElement(t,"a");this.scrolling&&this.scrolling.cancel(),this.moveTo(e.href.split("#")[1],this.scroller,{duration:this.options.duration}),this.handStopped||(clearTimeout(this.timer),this.timer=null),Event.stop(t)},moveTo:function(t,e,i){this.current=$(t),Position.prepare();var s=Position.cumulativeOffset(e),o=Position.cumulativeOffset(this.current);return this.scrolling=new Effect.SmoothScroll(e,{duration:i.duration,x:o[0]-s[0],y:o[1]-s[1]}),"object"==typeof t&&(t=t.id),this.toggleControl($$('a[href="#'+t+'"]')[0]),!1},next:function(){if(this.current)var t=this.current._index,e=this.sections.length-1==t?0:t+1;else var e=1;this.moveTo(this.sections[e],this.scroller,{duration:this.options.duration})},previous:function(){if(this.current)var t=this.current._index,e=0==t?this.sections.length-1:t-1;else var e=this.sections.length-1;this.moveTo(this.sections[e],this.scroller,{duration:this.options.duration})},makeActive:function(t){Event.findElement(t,"div").addClassName("active")},makeInactive:function(t){Event.findElement(t,"div").removeClassName("active")},toggleControl:function(t){$$(".slidercontrol a").invoke("removeClassName","active"),t.addClassName("active")},stop:function(){this.handStopped=!0,clearTimeout(this.timer)},start:function(){this.handStopped=!1,this.periodicallyUpdate()},pause:function(){this.handStopped||(clearTimeout(this.timer),this.timer=null)},resume:function(){this.handStopped||this.periodicallyUpdate()},periodicallyUpdate:function(){null!=this.timer&&(clearTimeout(this.timer),this.next()),this.timer=setTimeout(this.periodicallyUpdate.bind(this),1e3*this.options.frequency)}}),Effect.SmoothScroll=Class.create(),Object.extend(Object.extend(Effect.SmoothScroll.prototype,Effect.Base.prototype),{initialize:function(t){this.element=$(t);var e=Object.extend({x:0,y:0,mode:"absolute"},arguments[1]||{});this.start(e)},setup:function(){this.options.continuous&&!this.element._ext&&(this.element.cleanWhitespace(),this.element._ext=!0,this.element.appendChild(this.element.firstChild)),this.originalLeft=this.element.scrollLeft,this.originalTop=this.element.scrollTop,"absolute"==this.options.mode&&(this.options.x-=this.originalLeft,this.options.y-=this.originalTop)},update:function(t){this.element.scrollLeft=this.options.x*t+this.originalLeft,this.element.scrollTop=this.options.y*t+this.originalTop}});var Slider=Class.create();Slider.prototype={options:{shift:715},initialize:function(t,e,i){this.animating=!1,this.containerSize={width:$(t).offsetWidth,height:$(t).offsetHeight},this.content=$(t).down(),this.controlLeft=$(e),this.controlRight=$(i),this.initControls()},initControls:function(){this.content.childElements().last().positionedOffset()[0]+this.content.childElements().last().getWidth()+8>723?(this.controlLeft.href=this.controlRight.href="javascript:void(0)",Event.observe(this.controlLeft,"click",this.shiftLeft.bind(this)),Event.observe(this.controlRight,"click",this.shiftRight.bind(this)),this.updateControls(1,0)):this.updateControls(0,0)},shiftRight:function(){if(!this.animating){var t=isNaN(parseInt(this.content.style.left))?0:parseInt(this.content.style.left);if(t+this.options.shift<0){var e=this.options.shift;this.updateControls(1,1)}else{var e=Math.abs(t);this.updateControls(1,0)}this.moveTo(e)}},shiftLeft:function(){if(!this.animating){var t=isNaN(parseInt(this.content.style.left))?0:parseInt(this.content.style.left),e=this.content.childElements().last().positionedOffset()[0],i=this.content.childElements().last().getWidth(),s=e+i+8;if(s+t-this.options.shift>this.containerSize.width){var o=this.options.shift;this.updateControls(1,1)}else{var o=s+t-this.containerSize.width;this.updateControls(0,1)}this.moveTo(-o)}},moveTo:function(t){var e=this;this.animating=!0,new Effect.Move(this.content,{x:t,duration:.4,delay:0,afterFinish:function(){e.animating=!1}})},updateControls:function(t,e){t?this.controlLeft.removeClassName("disabled"):this.controlLeft.addClassName("disabled"),e?this.controlRight.removeClassName("disabled"):this.controlRight.addClassName("disabled")}};var TabBuilder=Class.create();TabBuilder.prototype={config:{effect:"none",duration:300,tabContainer:".tab-container",tab:".tab"},initialize:function(t){Object.extend(this.config,t),$$(this.config.tabContainer).each(function(t){this.buildTabs(t).setActiveTab(t,0).addObservers(t)}.bind(this))},buildTabs:function(t){var e=new Element("ol").addClassName("tabs");t.insert({bottom:e});var i=new Element("div").addClassName("content");return e.insert({after:i}),$(t).select(this.config.tab).each(function(t){var s=$(t).select(".head")[0].wrap("li");e.insert({bottom:s});var o=$(t).select(".content")[0];o.removeClassName("content").addClassName("tab"),i.insert({bottom:o}),$(t).remove()}),$$(".tabs li:first-child")[0].addClassName("first"),$$(".tabs li:last-child")[0].addClassName("last"),this},setActiveTab:function(t,e){return this._switchTabDisplay(t,e),this},addObservers:function(t){var e=this;return $(t).select(".tabs li").each(function(i,s){i.observe("mouseover",function(){e.setActiveTab(t,s)}),i.observe("mouseover",function(t){$(this).addClassName("over")}),i.observe("mouseout",function(t){$(this).removeClassName("over")})}),this},_switchTabDisplay:function(t,e){$(t).select(".tabs li, .content .tab").invoke("removeClassName","active"),$(t).select(".tabs li")[e].addClassName("active"),$(t).select(".content .tab")[e].addClassName("active"),$(t).select(".content .tab").invoke("setStyle",{display:"none"}),$(t).select(".content .tab")[e].setStyle({display:"block"})}};