Glider=Class.create(),Object.extend(Object.extend(Glider.prototype,Abstract.prototype),{initialize:function(t,e){this.handStopped=!1,this.scrolling=!1,this.wrapper=$(t),this.scroller=this.wrapper.down("div.scroller"),this.sections=this.wrapper.getElementsBySelector("div.sectionslide"),this.options=Object.extend({duration:1,frequency:3},e||{}),this.sections.each(function(t,e){t._index=e}),this.events={click:this.click.bind(this),mouseover:this.pause.bind(this),mouseout:this.resume.bind(this)},this.addObservers(),this.options.initialSection&&this.moveTo(this.options.initialSection,this.scroller,{duration:this.options.duration}),this.options.autoGlide&&this.start()},addObservers:function(){this.wrapper.observe("mouseover",this.events.mouseover),this.wrapper.observe("mouseout",this.events.mouseout);var t=this.wrapper.getElementsBySelector("div.sliderdescription");t.invoke("observe","mouseover",this.makeActive),t.invoke("observe","mouseout",this.makeInactive),this.wrapper.getElementsBySelector("div.slidercontrol a").invoke("observe","mouseover",this.events.click)},click:function(t){var e=Event.findElement(t,"a");this.scrolling&&this.scrolling.cancel(),this.moveTo(e.href.split("#")[1],this.scroller,{duration:this.options.duration}),this.handStopped||(clearTimeout(this.timer),this.timer=null),Event.stop(t)},moveTo:function(t,e,i){this.current=$(t),Position.prepare();var s=Position.cumulativeOffset(e),o=Position.cumulativeOffset(this.current);return this.scrolling=new Effect.SmoothScroll(e,{duration:i.duration,x:o[0]-s[0],y:o[1]-s[1]}),"object"==typeof t&&(t=t.id),this.toggleControl($$('a[href="#'+t+'"]')[0]),!1},next:function(){if(this.current)var t=this.current._index,e=this.sections.length-1==t?0:t+1;else var e=1;this.moveTo(this.sections[e],this.scroller,{duration:this.options.duration})},previous:function(){if(this.current)var t=this.current._index,e=0==t?this.sections.length-1:t-1;else var e=this.sections.length-1;this.moveTo(this.sections[e],this.scroller,{duration:this.options.duration})},makeActive:function(t){Event.findElement(t,"div").addClassName("active")},makeInactive:function(t){Event.findElement(t,"div").removeClassName("active")},toggleControl:function(t){$$(".slidercontrol a").invoke("removeClassName","active"),t.addClassName("active")},stop:function(){this.handStopped=!0,clearTimeout(this.timer)},start:function(){this.handStopped=!1,this.periodicallyUpdate()},pause:function(){this.handStopped||(clearTimeout(this.timer),this.timer=null)},resume:function(){this.handStopped||this.periodicallyUpdate()},periodicallyUpdate:function(){null!=this.timer&&(clearTimeout(this.timer),this.next()),this.timer=setTimeout(this.periodicallyUpdate.bind(this),1e3*this.options.frequency)}}),Effect.SmoothScroll=Class.create(),Object.extend(Object.extend(Effect.SmoothScroll.prototype,Effect.Base.prototype),{initialize:function(t){this.element=$(t);var e=Object.extend({x:0,y:0,mode:"absolute"},arguments[1]||{});this.start(e)},setup:function(){this.options.continuous&&!this.element._ext&&(this.element.cleanWhitespace(),this.element._ext=!0,this.element.appendChild(this.element.firstChild)),this.originalLeft=this.element.scrollLeft,this.originalTop=this.element.scrollTop,"absolute"==this.options.mode&&(this.options.x-=this.originalLeft,this.options.y-=this.originalTop)},update:function(t){this.element.scrollLeft=this.options.x*t+this.originalLeft,this.element.scrollTop=this.options.y*t+this.originalTop}});