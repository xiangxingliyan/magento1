!function(t){var n,i,o,e,s=!1,u=null,c={},d={},f={};t.getMousePosition=function(t){var n=0,i=0;if(!t)var t=window.event;return t.pageX||t.pageY?(n=t.pageX,i=t.pageY):(t.clientX||t.clientY)&&(n=t.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,i=t.clientY+document.body.scrollTop+document.documentElement.scrollTop),{x:n,y:i}},t.updatePosition=function(s){var c=t.getMousePosition(s),d=c.x-n,f=c.y-i;t(u).css("top",o+f),t(u).css("left",e+d)},t(document).mousemove(function(n){if(s&&"on"==f[u.id])return t.updatePosition(n),void 0!=d[u.id]&&d[u.id](n,u),!1}),t(document).mouseup(function(t){if(s&&"on"==f[u.id])return s=!1,void 0!=c[u.id]&&c[u.id](t,u),!1}),t.fn.ondrag=function(t){return this.each(function(){d[this.id]=t})},t.fn.ondrop=function(t){return this.each(function(){c[this.id]=t})},t.fn.dragOff=function(){return this.each(function(){f[this.id]="off"})},t.fn.dragOn=function(){return this.each(function(){f[this.id]="on"})},t.fn.easydrag=function(c){return this.each(function(){void 0!=this.id&&this.id.length||(this.id="easydrag"+(new Date).getTime()),f[this.id]="on",t(this).css("cursor","move"),t(this).mousedown(function(d){t(this).css("position","absolute"),t(this).css("z-index","10000"),s=!0,u=this;var f=t.getMousePosition(d);return n=f.x,i=f.y,o=this.offsetTop,e=this.offsetLeft,t.updatePosition(d),!!c})})}}(jQuery);